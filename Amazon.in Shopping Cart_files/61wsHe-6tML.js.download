(function(y){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,M=l?l("SocialShareWidgetAUI","AmazonUI"):h;M.guardFatal?M.guardFatal(y)(M,window):M.execute(function(){y(M,window)})})(function(y,h,l){function M(f){if(Array.isArray(f)){for(var l=0,h=Array(f.length);l<f.length;l++)h[l]=f[l];return h}return Array.from(f)}"use strict";"use strict";y.register("SocialShareWidget",function(){var f;(function(){var l={353:function(k,a,b){Object.defineProperty(a,"__esModule",{value:!0});
var m=b(905),g=b(738);k=function(){function a(){var d=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=d.getDateTimeByOffset(a);var c=d.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:c}};this.getMarketplaceId=function(a){return"string"==typeof a?a:h.ue&&h.ue.mid?h.ue.mid:g.CSA_DEFAULT_VALUE.string};var c=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:g.CSA_DEFAULT_VALUE.number,hitDay:c.hitDay,
hitDatetime:c.hitDatetime,hitDatetimeUtc:c.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:g.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:g.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:g.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var c=a.shareDataAttributes;if(this.csaMetricsData.customerId=c.customerId?c.customerId:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=c.requestId?c.requestId:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
c.asin?c.asin:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=c.ingress?c.ingress:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=c.platform?c.platform:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(c.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(c.isRobot),this.csaMetricsData.channel=a.channel?a.channel:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:g.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(c.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!c.triggeredFromScreenshotToast&&c.triggeredFromScreenshotToast,a.weblab)c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=c;a.customizeShareCSAData&&(c=this.csaMetricsData.shareEntities,c=void 0===
c?{}:c,a.customizeShareCSAData.isCustomizedExperienceEnabled===g.TRUE&&(c.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,c.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,c.hasQuote=a.customizeShareCSAData.hasQuote,c.isCustomized=a.customizeShareCSAData.isCustomized,c.customizePreSelected=a.customizeShareCSAData.customizePreSelected,c.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=c));a.isCustomShareOptionsSheetEnabled&&
(c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=c);a.caf&&(c=this.csaMetricsData.shareEntities,(c=void 0===c?{}:c).cafSwitchEnabled=a.cafSwitchEnabled?g.TRUE:g.FALSE,this.csaMetricsData.shareEntities=c);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||g.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=
function(d){var c=new Date;0!==d&&(d*=a.MINUTES_TO_MILISECONDS,c=c.getTime()-d,c=new Date(c));return c.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,m.isCSALoaded)()&&h.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",
a}();a.default=k},305:function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,m){var b={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(d){var c="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),b="\x26body\x3d".concat(encodeURIComponent(a.title));
d=encodeURIComponent(d||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(c).concat(b," ").concat(d)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(d){d="?url\x3d".concat(encodeURIComponent(d||
a.shareUrl.getReturnForChannel(this.ref)));var c="\x26description\x3d".concat(encodeURIComponent(a.title)),b="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(d).concat(c).concat(b,"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(d){var c="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));d="\x26url\x3d".concat(encodeURIComponent(d||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(c).concat(d)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(d){d=encodeURIComponent(d||a.shareUrl.getReturnForChannel(this.ref));var c=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),b=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));d=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(d),"redirect_uri\x3d".concat(c),"hashtag\x3d".concat(b)].join("\x26");return"".concat(this.shareBaseUrl).concat(d)}},tw:{label:"X",name:"x",
ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(d){var c="?text\x3d".concat(encodeURIComponent(a.title));d="\x26url\x3d".concat(encodeURIComponent(d||a.shareUrl.getReturnForChannel(this.ref)));var b="\x26hashtags\x3d".concat(a.hashtags.join(",")),e="\x26via\x3d".concat(encodeURIComponent("Amazon"));
return"".concat(this.shareBaseUrl).concat(c).concat(d).concat(b).concat(e)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(d){d="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),
"\n              ").concat(encodeURIComponent(d||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(d)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(d){d="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(d||
a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(d)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==m?0:m.length){var e={};return m.forEach(function(a){b[a]&&(e[a]=b[a])}),e}return b}},738:function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};k=a.CSA_HIT_TYPE={};k.CLICK_SUCCESS="click_success";k.CLICK_ERROR="click_error";k.CLICK_CANCEL="click_cancel";k.SHARE="share";k.CUSTOMIZE_SHARE=
"click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION=
"SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",
channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,
marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(k,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=
a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var m,g=b(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(m||(a.Device=m={}));a.context=function(){var d=m.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?d=m.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?d=m.IOS:(0,a.isMobileWeb)()&&(d=m.MWeb);var c="unknown";return(0,a.isMobileApp)()?c="mshop":(0,a.isMobileWeb)()?c="mweb":(0,a.isDesktop)()&&(c="desktop"),{device:d,page:(0,a.isUeAvailable)()?h.ue_pty:"unknown",
subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:c}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||e};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,g.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=function(){var a;return"undefined"!=typeof h&&(0,g.isString)(null===(a=null===h||void 0===h?void 0:h.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};
a.isIE=function(){return(0,g.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,g.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,g.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,g.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,g.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,g.getCookie)("amzn-app-id"))};
a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,g.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,g.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,g.isFunction)(a.share)};a.isCSALoaded=function(){return(0,g.isFunction)(h.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=h.navigator)||void 0===a?void 0:a.vendor)};var e=!1;(0,a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){e=
!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},495:function(k,a,b){Object.defineProperty(a,"__esModule",
{value:!0});var m=b(905),g=b(353),e=b(738);k=function(){function a(){}return a.logCountOnce=function(a){(0,m.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,b){var c=this;(0,m.isAUILoaded)()&&h.P.when("A").execute(function(d){d.trigger("".concat(c.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:b})})},a.logCounter=function(a,b){b=b?".".concat(b):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(b);this.emitFullMetricName(a,"logCounter");
this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?".".concat(b.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(b,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logFatal=function(a){(0,m.isAUILoaded)()&&h.P.log(a,"FATAL",
this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,m.isCSALoaded)()&&(new g.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);this.timers[a]=Date.now()},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var c=this.timers[a];(0,m.isUeAvailable)()&&c&&(h.ue.count(a,Date.now()-c),this.emitFullMetricName(a,"stopTimer"),delete this.timers[a])},
a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=e.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(c,b){var d;if(void 0===b&&(b=""),(0,m.isUeAvailable)()){var e=(0,m.context)();a.platform=e.platform;a.metricName=b?".".concat(b.toLowerCase()):""}c=c('[data-action\x3d"ssf-share-icon"]').data();b=b?".".concat(b):"";return c?(c=(null===(d=c.ssfShareIcon)||void 0===d?void 0:d.shareDataAttributes)||{},d=c.ingress,c=c.platform,c=void 0===c?"unknown":c,"".concat(void 0===
d?"unknown":d,".").concat(c).concat(b).toLowerCase()):""},a}();a.default=k},241:function(k,a,b){Object.defineProperty(a,"__esModule",{value:!0});var m,g=b(905),e=b(738);!function(a){a.RETURN="r";a.CLICK="cl"}(m||(m={}));k=function(){function a(a,b){if(void 0===a&&(a="ur"),void 0===b&&(b=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:g.Device.Other,page:"",subPage:"",platform:e.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=
(0,g.context)();this.treatment=b;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(m.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(m.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var b=this.treatment?"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(m.RETURN,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,
"_").concat(b).concat(this.id)},a.prototype.getClickForChannel=function(a){return"".concat(this.PREFIX,"_").concat(m.CLICK,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(this.id)},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===h||void 0===h?void 0:h.ue)||void 0===a?void 0:a.rid;return b||(b="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,13)),this.id=b},a.prototype.get=function(a){var b=this.treatment?
"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a}();a.default=k},198:function(k,a,b){var m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},m.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var g,e=b(495),d=b(905),
c=b(474),f=b(161),r=b(738);(0,d.isAUILoaded)()&&h.P.when("mash").execute(function(a){return g=a});k=function(){function a(a){this.sheetOptions={title:r.EMPTY_STRING,text:r.EMPTY_STRING,shareUrl:new c.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:r.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:r.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=m(m({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=
function(){var a,b=this,c=this.sheetOptions.shareDataAttributes.ingress,d={channel:r.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},g=this.shareUrl.return;this.sheetOptions.tinyUrl&&(g=this.sheetOptions.tinyUrl,e.default.logCounter("MWeb.Tiny.Success"),e.default.logCounterRefactor("Tiny.Success",c));var m=(0,f.isFunction)(this.sheetOptions.sheetShownCallback);
try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:g,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){m&&b.sheetOptions.sheetShownCallback();e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,d);e.default.logCSAEvent(r.CSA_HIT_TYPE.SHARE,d);(0,f.isFunction)(b.sheetOptions.incrementShareCount)&&b.sheetOptions.incrementShareCount(d.refMarker);e.default.logCounterRefactor("ChannelClick",b.sheetOptions.shareDataAttributes.ingress)}).catch(function(a){m&&
b.sheetOptions.sheetShownCallback();e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,d);a.name===r.Err.Abort&&e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_CANCEL,d)})}catch(p){e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_ERROR,d)}},a.prototype.launchNativeApp=function(){var a=this,b=this.shareUrl.refMarker.click,c=this.sheetOptions.shareDataAttributes,d=this.sheetOptions.refererURL,t=this.sheetOptions.customizeShareCSAData,k=this.sheetOptions.shareDataAttributes.ingress,p=r.EMPTY_STRING,l=this.sheetOptions.caf||
!1,u=this.sheetOptions.cafSwitchEnabled||!1,h=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,q=this.shareUrl.return,v=(0,f.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(q=this.sheetOptions.tinyUrl,e.default.logCounter("MShop.Tiny.Success"),e.default.logCounterRefactor("Tiny.Success",k));var A={channel:p,refMarker:b,refererURL:d,shareDataAttributes:c,customizeShareCSAData:t,caf:l,cafSwitchEnabled:u,isCustomShareOptionsSheetEnabled:h};c={messagePlain:this.getShareMessage,
messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:q,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==g||g.share(m(m({},c),{successCallback:function(){(0,f.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,A)},failCallback:function(){e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_ERROR,A)},shareServiceSelectedCallback:function(c){c&&
"'null'"!==c?((0,f.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),A.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,A.refMarker=a.shareUrl.refMarker.getClickForChannel(c),e.default.logCSAEvent(r.CSA_HIT_TYPE.SHARE,A),e.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),(0,f.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback(),v&&a.sheetOptions.incrementShareCount(b)):("MSHOP_ANDROID"===
a.sheetOptions.shareDataAttributes.platform&&v&&a.sheetOptions.incrementShareCount(b),e.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_CANCEL,A))}}))},a.prototype.launch=function(a){(0,d.isNativeAppShareAvailable)(g)?this.launchNativeApp():(0,d.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,f.isFunction)(a)?a():(e.default.logCounter("Click.ShareUnavailable"),e.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",
{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,f.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,f.truncate)(this.sheetOptions.title,140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return r.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},
a.prototype.getChannelByRegex=function(a){return r.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=r.RAW_CHANNEL_PREFIX+a,c=r.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b=
"SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||
this.shareUrl.return;return"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=k},474:function(f,a,b){Object.defineProperty(a,"__esModule",{value:!0});var m=b(241);f=function(){function a(b,d,c){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new m.default(d,c)}return a.prototype.getUpdatedUrl=function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,
"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(d){return!1}return!0},a.getDefault=function(){var a,b,c=null===(a=null===h||void 0===h?void 0:h.location)||void 0===a?void 0:a.href;if(!c)return(null===(b=null===h||void 0===h?void 0:h.ue)||void 0===b?0:b.sn)?"https://".concat(h.ue.sn):"https://amazon.com";a=
new URL(c);b=a.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?"".concat(h.location.origin,"/dp/").concat(h.ue_pti).concat(b):(a.search=b,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,
configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=f},161:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};
a.isString=function(a){return"string"==typeof a};a.truncate=function(a,f){void 0===a&&(a="");var b=Array(3).fill(".");return a.length>f?a.substring(0,f-3)+b.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(m){return!1}};a.getCookie=function(a){a="".concat(a,"\x3d");for(var b=document.cookie.split(";"),g=0;g<b.length;g++){for(var e=b[g];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return""};
a.getDPXObject=function(){var a,f;return null===(f=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===f?void 0:f.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},156:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(f,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=
void 0;f=b(305);var m=b(474),g=b(156),e=b(495),d=b(198),c=b(241),l=b(905);b=b(738);a.SocialShareCore={Channels:f.default,Url:m.default,Translations:g.default,Metrics:e.default,ShareSheet:d.default,RefMarker:c.default,Detection:l.default,Constants:b};a.default=a.SocialShareCore}},w={};f=function b(a){var f=w[a];if(void 0!==f)return f.exports;f=w[a]={exports:{}};return l[a].call(f.exports,f,f.exports,b),f.exports}(519)})();return f});"use strict";y.register("SocialShareWidgetConfig",function(){var f=
Object.freeze({MODAL:"modal",POPOVER:"popover"}),l=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:f,WIDGET_ICON:l,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:f.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,
cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",
ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}}},defaultWidgetData:{icon:l.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:h.opts&&h.opts.customerId,marketplaceId:h.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",
arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";y.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(f,q,w,k){var a=q.SocialShareCore,b=a.Metrics,m=0,g=function(){},e=!1,d=b.getMetricName(f.$),c=f.constants.HIDE_CLASS;b.startTimer(d);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var u=f.$,r=a.Detection,t=a.Translations,n=a.Channels,
x=a.ShareSheet,C=a.Url,B=a.Constants,q=function(a){a=a.data("share")||a.find("[data-share]").data("share");return f.extend({},k.defaultWidgetData,a)},z=u(".ssf-share-trigger"),p=k.defaultShareData,F=q(z),G=p.url,J=u("#ac-getlink-bottomsheet"),I=u('[data-action\x3d"ssf-share-icon"]'),v=function(){var a=k.iconMap;return F.icon===k.WIDGET_ICON.ARROW?a.arrow:r.isDesktop()?a.ios:F.icon===k.WIDGET_ICON.VARIABLE?r.isIOS()?a.ios:a.android:a[F.icon]},A=function(a){a.find('[class*\x3d"ssf-multi-"]').length||
a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));z=a.find('[class*\x3d"ssf-multi-"]')},E=void 0,D=void 0,K=void 0,L=void 0,P=void 0,V=void 0,O=void 0;y.when("a-sheet").execute(function(a){return E=a});y.when("a-popover").execute(function(a){return D=a});y.when("a-modal").execute(function(a){return K=a});y.when("SocialShareWidgetTiny").execute(function(a){return O=a});var W=function(a,b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:"ssf-share-bottom-sheet",
d=p.customize||p.caf;if(!L||d)L=E.create({name:c,inlineContent:a,closeType:"icon",height:b});E.showSheet(L)},S=function(a){var b=a.type===k.WIDGET_TYPE.POPOVER&&D,c=a.type===k.WIDGET_TYPE.MODAL&&K;a=w.build(a);E?W(a.getBottom()):b?(b=a.getPopover(),z.hasClass("a-declarative")||(P=D.create(z,{name:"ssf-share-popover",position:p.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=
a.getModal(),z.hasClass("a-declarative")||(V=K.create(z,{inlineContent:b,width:600}).show()))},aa=function(a){if(a.customize||a.caf)b.logCounter("webview.sharesheet.caf.background"),b.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),y.when("mash").execute(function(a){a.addEventListener("appPause",N)})},ba=function(a){y.when("SocialShareWidgetCustomize").execute(function(b){w.build(a).getCustomize(function(c){W(c,650,"ssf-customize-bottom-sheet");b.init(a,S,N);
aa(a)})})},N=function Z(){y.when("mash").execute(function(a){a.removeEventListener("appPause",Z)});P&&D.get(z).hide();L&&E.hideSheet(L);V&&K.get(z).hide()},ca=function(){var a=p.shareDataAttributes.asin,b=h.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;p.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},T=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(c);a.find("i").hide()},Q=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(c);
a.find("i").show()},X=function(a){var c=a.shareData,e=a.copyElement,n=c.shareDataAttributes,g=c.t,t=c.treatment;t=t===l?"":t;var p=c.weblab;p=p===l?"":p;a={channel:"copy",refMarker:c.shareUrl.refMarker.getClickForChannel(a.channelRef),shareDataAttributes:n,treatment:t,weblab:p};b.logCSAEvent(B.CSA_HIT_TYPE.SHARE,a);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter(d,"CopySuccess");b.logCounterRefactor("CopySuccess",n.ingress);r.isDesktop()?function(){var a=e.find(".copy-label");a.text(g.taf_copy_url_changeover);
f.delay(function(){N();a.text(g.taf_copy_name)},1E3)}():(u(".ssf-feedback").show(),N())},Y=function(a){b.logCSAEvent(B.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");b.logCounter(d,"CopyFailure");b.logCounterRefactor("CopyFailure",p.shareDataAttributes.ingress)},R=function(a){var c=a.shareData,d=a.channelRef,f=c.shareUrl;a=c.socialLinks;var e=a===l?{}:a;a=c.isOGTEnabled;a=a===l?!1:a;var n=c.dealsPreviewEnabled;n=n===l?!1:n;var g=c.eventPreviewTreatment;g=g===l?"C":g;d=d?f.getReturnForChannel(d):
f.return;f=e.shareframework||c.url;e=c.aapiBaseUrl;e=e===l?"":e;var t=c.shareAapiCsrfToken;t=t===l?"":t;var p=c.tinyUrlEnabled;p=p===l?!1:p;var r=c.deeplinkInfo;r=r===l?{}:r;var k=c.storeId;k=k===l?"":k;var v=c.shareDataAttributes;c=v.marketplaceId;c=c===l?"":c;v=v.ingress;v=v===l?"":v;if("c"!==g.toLowerCase()){d=new URL(d);var u=g.match(/^T(\d+)$/);d.searchParams.append("peakEvent",u[1]);d.searchParams.append("dealEvent",n?"1":"0");d=d.toString();b.logCounterRefactor("EventPreview"+g,v)}return{tinyUrlEnabled:p,
aapiBaseUrl:e,shareAapiCsrfToken:t,marketplaceId:c,url:d,isOGTEnabled:a,originalUrl:f||d,refMarkerId:m++,deeplinkInfo:r,storeId:k}};u(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(a){a.preventDefault();a.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(d,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);var c=u(this),e=c.data("key"),n=p;a=n.refererURL;var g=n.shareDataAttributes,t=n.treatment;t=t===l?"":t;var k=n.weblab;
k=k===l?"":k;var m=n.builtChannels[e],v=m.ref;e=n.shareUrl.refMarker.getClickForChannel(v);n=m.name;var x=m.getSharingUrl();b.logCSAEvent(B.CSA_HIT_TYPE.SHARE,{channel:n,refMarker:e,refererURL:a,shareDataAttributes:g,treatment:t,weblab:k});a=R({shareData:p,channelRef:v});T(c);O.fetch({data:a,callback:function(a){Q(c);a&&(x=m.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"),b.logCounterRefactor("Tiny.Success",g.ingress));if("em"===v)h.open(x,"_self");else if(r.isDesktop()){a=screen.width;var d=
screen.height,e="pi"===v?900:600,n=Math.min(e,.7*a);e=Math.min(e,.7*d);h.open(x,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+n+",height\x3d"+e+",top\x3d"+(d/2-e/2)+",left\x3d"+(a/2-n/2))}else h.open(x,"_blank");N();f.trigger("ssf:event:share",p)}})});f.declarative("ssf-share-icon","click",function(a){b.logCounter("DPX.Desktop.SheetClick");b.logCounter(d,"SheetClick");if(e)return N();A(a.$currentTarget);p=f.extend(p,a.data);p.shareDataAttributes=f.extend(k.shareDataAttributes,a.data.shareDataAttributes);
var c=p.shareDataAttributes.ingress;b.logCounterRefactor("SheetClick",c);if(!f.objectIsEmpty(a.data.associateLink)&&J.length)b.logCounter("ShareIngress.GetLink.T1"),b.logCounterRefactor("ShareIngress.GetLink.T1",c),f.trigger("ac-getlink-bottomsheet-event",p);else{f.extend(t[p.lang],p.t);var g=n(p,p.channels);p.builtChannels=g;p.url=p.url.startsWith("/")?""+h.location.origin+p.url:p.url;p.shareUrl=new C(p.url,p.refId);ca()&&(p.shareUrl=new C(p.url,p.refId),p.shareUrl.url.searchParams.set("psc",1));
r.isDesktop()?(p.image=p.image||u("#imgTagWrapperId img").attr("src"),S(p),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter(d,"SheetOpen"),b.logCounterRefactor("SheetOpen",c),b.logCSAEvent(B.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:B.EMPTY_STRING,refMarker:p.shareUrl.refMarker.click,refererURL:p.refererURL,shareDataAttributes:p.shareDataAttributes,treatment:p.treatment||"",weblab:p.weblab||""})):p.customize||p.caf?ba(p):(T(a.$currentTarget),g=R({shareData:p}),p=f.extend(p,{sheetShownCallback:function(){Q(a.$currentTarget)}}),
O.fetch({data:g,callback:function(e){p.tinyUrl=e;(new x(p)).launch(function(){S(p);b.logCounter("DPX.Desktop.SheetOpen");b.logCounter(d,"SheetOpen");b.logCounterRefactor("SheetOpen",c);Q(a.$currentTarget)})}}));r.isSafari()&&r.isDesktop()&&(g=R({shareData:p,channelRef:B.CP_CHANNEL_REF}),O.fetch({data:g,callback:function(a){b.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");b.logCounter(d,"TinyUrlOnSheetOpen");b.logCounterRefactor("TinyUrlOnSheetOpen",c);G=a}}));f.trigger("ssf:event:sheetOpen",p)}});u(document).delegate(".ssf-copy,.ssf-channel.copy",
"click",function(a){b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(d,"ChannelClick");b.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);a.preventDefault();var c=u(this),e=B.CP_CHANNEL_REF,n=p.shareUrl.getReturnForChannel(e);r.isSafari()&&r.isDesktop()?navigator.clipboard.writeText(G||n).then(function(){X({shareData:p,copyElement:c,channelRef:e})},function(){Y(csaOptions)}):(a=R({shareData:p,channelRef:B.CP_CHANNEL_REF}),T(c),O.fetch({data:a,callback:function(a){Q(c);navigator.clipboard.writeText(a||
n).then(function(){X({shareData:p,copyElement:c,channelRef:e})},function(){Y(csaOptions)})}}));f.trigger("ssf:event:share",p)});u(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(a){a.preventDefault();var c=p;a=c.shareDataAttributes;var e=c.treatment;e=e===l?"":e;var n=c.weblab;n=n===l?"":n;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(B.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:e,weblab:n};b.logCSAEvent(B.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.ChannelClick");
b.logCounter(d,"ChannelClick");b.logCounterRefactor("ChannelClick",a.ingress);K.create(u(".ssf-channel.embed"),p.kpModalParams).show()});g=function(){z=u(".ssf-share-trigger");F=q(z);var a=F.width;if(!u(".ssf-background").length&&F.background){var c=1.4*a;c=u('\x3cdiv class\x3d"ssf-background'+(F.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});z.wrap(c)}F.icon&&z.css({height:a,width:a,backgroundImage:"url("+v()+")"})};r.isIE()&&u(".ssf-share-trigger,.ssf-background").remove();
f.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var c=a.position().left-p.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:c})});f.on("ssf:event:trigger-share-widget",function(a){f.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==l?arguments[1]:l)||I})});f.on("a:popover:show:ssf-share-popover",function(){return e=!0});f.on("a:popover:hide:ssf-share-popover",function(){return e=
!1});f.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});g()})()}catch(u){b.logCounter("DPX.Desktop.Error"),b.logCounter(d,"Error"),b.logLoad("Error"),b.logFatal("Error loading Share Framework AUI: "+u.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(d,"Render"),b.logLoad("Render"),f.trigger("ssf:event:load"),b.stopTimer(d)}return{init:g}});"use strict";var U=function(){return function(f,h){if(Array.isArray(f))return f;if(Symbol.iterator in
Object(f)){var q=[],k=!0,a=!1,b=l;try{for(var m=f[Symbol.iterator](),g;!(k=(g=m.next()).done)&&(q.push(g.value),!h||q.length!==h);k=!0);}catch(e){a=!0,b=e}finally{try{if(!k&&m["return"])m["return"]()}finally{if(a)throw b;}}return q}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();y.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(f,h,w){w=w.SocialShareCore;var k=f.$,a=w.Detection.isClipboardAvailable,b=w.Detection.isDesktop,
m=h.excludedChannels;a()||m.push("copy");var g=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(e){var d=e.shareUrl,c=e.socialLinks,f=c===l?{}:c;c=e.shareDataAttributes;var r=e.builtChannels,t=e.kpModalParams,n=e.t;f.email=e.mailToUri;var x='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+
n.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!b()&&a()&&1>k(".ssf-feedback").length&&k(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+n.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");
var C=function(a){return{title:n["taf_"+a.name+"_tooltip"]||a.label,label:n["taf_"+a.name+"_name"]||a.label}};h.lineMarketplaces.includes(c.marketplaceId)||f.li?m.push("pi"):m.push("li");t||m.push("embed");h.cnMarketplace.includes(c.marketplaceId)&&m.push.apply(m,M(h.nonCNChannels));return{getModal:function(){var c="",b=!0,e=!1,t=l;try{for(var k=Object.entries(r)[Symbol.iterator](),h;!(b=(h=k.next()).done);b=!0){var u=U(h.value,2),q=u[0],v=u[1];if(!m.includes(q)&&"copy"!==q){var A=C(v),w=f[v.name]||
v.getSharingUrl();c+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+w+'" title\x3d"'+A.title+'" data-key\x3d"'+q+'"\x3e\n                '+g("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+A.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+A.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(D){e=!0,t=D}finally{try{!b&&k.return&&k.return()}finally{if(e)throw t;
}}b=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+d.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+x+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+n.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+c+"\x3c/div\x3e")+b},getPopover:function(){var a="",c=!0,b=!1,d=l;try{for(var e=Object.entries(r)[Symbol.iterator](),
n;!(c=(n=e.next()).done);c=!0){var t=U(n.value,2),k=t[0],v=t[1];if(!m.includes(k)){var h=C(v),x=f[v.name]||v.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+k+' a-color-base" href\x3d"'+x+'" title\x3d"'+h.title+'" data-key\x3d"'+k+'"\x3e\n                '+g("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+h.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+k+'-label"\x3e'+
h.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(D){b=!0,d=D}finally{try{!c&&e.return&&e.return()}finally{if(b)throw d;}}return""+a},getBottom:function(){var a="",c=!0,b=!1,d=l;try{for(var e=Object.entries(r)[Symbol.iterator](),t;!(c=(t=e.next()).done);c=!0){var k=U(t.value,2),h=k[0],v=k[1];if(!m.includes(h)){var x=C(v),u=f[v.name]||v.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+h+' a-color-base" href\x3d"'+
u+'" title\x3d"'+x.title+'" data-key\x3d"'+h+'"\x3e\n                '+g("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+x.label+'" style\x3d"background-image: url('+v.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+x.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(D){b=!0,d=D}finally{try{!c&&e.return&&e.return()}finally{if(b)throw d;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+
n.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;y.now("SocialShareWidgetCustomizeTemplate").execute(function(c){a=e.customize?c.getCustomizeBox(n):""});var c='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+n.taf_share_bottom_sheet_title+"\x3c/h3\x3e",b='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+
c+"\x3c/div\x3e",d='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+e.image+')"\x3e'+g("medium")+"\x3c/div\x3e",f=e.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(e.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+n.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",t='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+e.shareLabel+"\n              "+g("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+c+d+f+a+t+"\x3c/div\x3e"+(e.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+b+d+f+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+t+"\x3c/div\x3e":"")}}}}});"use strict";y.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetTiny",function(f,q,w){var k=q.SocialShareCore.Metrics;return{fetch:function(a){var b=a.data,
m=a.isAsync;m=m===l?!0:m;var g=a.callback;y.now("SocialShareWidgetReviewsTiny").execute(function(a){if(a&&w.get("dpx")){a=w.get("shareData");var c=w.get("shareAapiCsrfToken"),d=w.get("aapiBaseUrl");"dprv"===a.refId&&(b.shareAapiCsrfToken=c,b.aapiBaseUrl=d,b.tinyUrlEnabled=!0,k.logCounter("reivews.tiny"))}});a=h.location.protocol+"//";if(b.isOGTEnabled){var e=new URL(b.url);e.searchParams.append("newOGT","1");b.url=e.toString()}if((e=b.deeplinkInfo)&&e.isDisabled&&e.flag!=l){var d=new URL(b.url);d.searchParams.append("nodl",
e.flag);b.url=d.toString()}if(e=b.storeId)d=new URL(b.url),d.searchParams.append("s",e),b.url=d.toString();if(b.tinyUrlEnabled)if(b.aapiBaseUrl&&b.shareAapiCsrfToken&&b.marketplaceId)a=""+a+b.aapiBaseUrl+"/api/marketplaces/"+b.marketplaceId+"/social-share/tinyurl",e={longUrl:b.url},0<b.refMarkerId&&b.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(e={longUrl:b.url+"_"+b.refMarkerId}),d={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',
"x-api-csrf-token":b.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":w.get("slateToken")},k.startTimer("Tiny"),f.ajax(a,{type:"POST",headers:d,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",async:m,data:e,success:function(a){k.logCounter("Desktop.Tiny.Response");k.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?g(a.entity.shortUrl.url):g(b.url);k.stopTimer("Tiny")},error:function(){k.logCounter("Desktop.Tiny.Error");
k.logCounterRefactor("Tiny.Error");k.stopTimer("Tiny");g(b.url)}});else return k.logCounter("Tiny.Unavailable"),k.logCounterRefactor("Tiny.Unavailable"),g(b.url);else return g(b.url)}}});"use strict";y.when("A").register("SocialShareWidgetState",function(f){var l="social-"+h.ue_id+"-share",w={slateToken:f.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};f.state(l,w);return{getCurrent:function(){return f.state(l)},get:function(f){return this.getCurrent()[f]},getAndReset:function(f){var a=
this.get(f);a&&this.set(f,null);return a},set:function(k,a){var b=this.getCurrent();f.trigger("ssf:event:state:set",b);if(!k)return b;b[k]=a;b=f.state(l,b);f.trigger("ssf:event:state:changed",b);return b}}});"use strict";y.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(f,q,w){q=q.SocialShareCore;var k=q.Constants,a=q.Metrics,b=h.location.protocol+"//",m=a.getMetricName(f,k.customize),g=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),e=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),d=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var c={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(c.values=Object.values(a.params)[0],c.isQuote=!1);return c}):[]};return{build:function(c){var h=c.shareAapiCsrfToken,r=c.locale,t=c.cafAapiCsrfToken,n=c.productType,x=c.shareDataAttributes,C=x.marketplaceId,q=x.asin,H=x.ingress,z=b+c.aapiBaseUrl,p=w.get("slateToken");p||(a.logCounter(m,"slate.missing"),a.logCounterRefactor("slate.missing",H));var F=function(a){return z+"/custom/socialshareapicontracts/marketplaces/"+
C+"/products/"+q+"/shareframework/"+a},G=function(a){var c=a.async;f.ajax({url:a.url,type:a.type,async:c===l?!0:c,data:a.data,headers:{"Accept-Language":r,Accept:a.accept,"x-api-csrf-token":a.cafToken||h,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":p},xhrFields:{withCredentials:!0},success:a.success,error:a.error})};return{generateImage:function(c,b){var d=F("generatecustomizedimage");G({url:d,type:g.POST,data:c,accept:e.generateImage,success:function(c){a.logCounter(m,
"generateCustomizeImageSuccess");a.logCounterRefactor("generateCustomizeImageSuccess",H);b(c)},error:function(c){a.logCounter(m,"generateCustomizeImageFail");a.logCounterRefactor("generateCustomizeImageFail",H);b(c)}})},externalizeImage:function(c,b,d){c=F("externalizecustomizedimage?customizedImageUrl\x3d"+c);G({url:c,type:g.PUT,accept:e.externalizeImage,async:d,success:function(a){b(a)},error:function(){a.logCounter(m,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",H);b({})}})},
fetchTabs:function(c){var b=F("productshareableattributes?locale\x3d"+r+"\x26type\x3d"+n);G({url:b,type:g.GET,accept:e.fetchTabs,success:function(b){a.logCounter(m,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",H);c(d(b))},error:function(){a.logCounter(m,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",H);c([])}})},fetchCAFID:function(b){var d=1<arguments.length&&arguments[1]!==l?arguments[1]:!0,n=z+"/custom/consultafriendcontracts/marketplaces/"+C+"/consultafriend/feedback-request/"+
q;a.logCounter(m,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",H);G({url:n,type:g.POST,accept:e.fetchCAFID,async:d,cafToken:t,success:function(a){b(a.entity&&a.entity.cafId,q,c.url)},error:function(c){a.logCounter(m,"CAF.createCAFID.failed");a.logCounterRefactor("CAF.createCAFID.failed",H);y.log("Error Creating CAF Id. with request URL "+n+", Error Code: "+c.status+". Error Response: "+c.responseText,"ERROR",k.SSF_AUI_PACKAGE_ATTRIBUTION);b()}})}}}}});"use strict";y.when("A",
"SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(f,h){var q=f.capabilities.rtl,k=h.SocialShareCore.Detection.isAndroid(),a=void 0,b=f.constants.HIDE_CLASS;y.when("mash").execute(function(c){return a=c});var m=function(c,b){if(!a)return b([]);var d=c.length,e=[];c.forEach(function(a){g(a,function(a,c){d--;c&&(e[a.label.toLowerCase()]=a);(3<=e.length||0>=d)&&b(e)})})},g=function(c,b){var d="whatsapp"===c.label.toLowerCase()&&k;a.canLaunchIntentURL({url:c.schemeURI,
successCallback:function(a){if(d)return b(c,!0);b(c,a)},failCallback:function(){if(d)return b(c,!0);b(c,!1)}})},e=function(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+c+'" src\x3d"'+a+'" /\x3e'},d=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==l?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(c,
d){var e="";m(c.customShareOptions,function(g){g=f.extend(g,c.defaultCustomShareOptions);c.customShareBuiltChannels=g;for(var n in g)if(!("more"===n&&!a||"copy"===n&&k)){var t=e;var h=c;var m=g[n],r=m.stringId,q=m.className,p=m.label;m="https://m.media-amazon.com/images/G/01/share-icons/"+m.image;h='\x3cli class\x3d"ssf-custom-share-option '+(q===l?"":q)+'"  data-name\x3d"'+p.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+
b+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+m+'" title\x3d"'+p+'" /\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(h.t[r]||p)+"\x3c/span\x3e\n                 \x3c/li\x3e";e=t+h}d('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+e+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},
getPreviewImage:function(a){var c=a.starRating,b=a.numberOfReviews,f=q?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+e(a.productImage,"ssf-regular")+"\x3c/div\x3e";c=c?e("RIO"+c+f+".png","ssf-caf-stars"):"";b=d(b);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+c+b+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+b+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
b+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+b+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"}}});"use strict";y.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(f,q,w,k){var a=f.$;q=q.SocialShareCore;var b=q.ShareSheet,m=
q.Metrics,g=q.Constants,e=void 0,d=void 0,c=void 0,u=void 0,r=!1,t=f.constants.HIDE_CLASS;y.when("mash").execute(function(a){d=a});y.when("SocialShareWidgetTiny").execute(function(a){e=a});y.when("SocialShareWidgetCustomizeUtils").execute(function(a){c=a});y.when("SocialShareWidgetCAFUtils").execute(function(a){u=a});return{init:function(n,x,q,w,H,z){var p=n.shareDataAttributes;x=n.incrementShareCount;var C=x===l?null:x;x=n.treatment;var B=x===l?"":x;x=n.weblab;var J=x===l?"":x;x=n.refererURL;var I=
x===l?"":x,v=n.ingress;f.on("ssf:event:caf-switch-change",function(a){r=a});var A=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(t)},E=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(t)},D=function(){return r?(n.t["taf-share-caf-messageprefix"]||"")+" "+n.title:n.title},K=function(a,b,d){r?u.prepareShareUrl(n,a,e,b,function(a,c){return d(a,c)}):c.prepareShareUrl(n,a,e,b,function(a){return d(a)})},L=function(a){a&&f.trigger("ssf:event:caf-share-complete-success",
n)},P=function(a,c,b){var d=a.shareUrl,e=encodeURIComponent(b+" \n "+c);return"Messages"===a.label&&f.capabilities.ios?"sms:///\x26body\x3d"+e:"Email"===a.label?d=d.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(n.emailSubject)).replace("{body}",""+e):d=d.replace("{text}",encodeURIComponent(b)).replace("{url}",c)};a(".custom-share-native-sheet").unbind("click").click(function(a){q();K(g.EMPTY_STRING,!0,function(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:"";n.tinyUrl=
a;var d=n;c&&(d=f.extend({channelSelectCB:function(){L(c)},cafSwitchEnabled:r},n),d.title=D());(new b(d)).launch(function(){m.logCounterRefactor("customShareOptions.SheetOpen",v)})})});a(".custom-share-copy").unbind("click").click(function(c){var b=g.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,d=n.caf,e=a(this);A(e);K(b,!1,function(c){var f=1<arguments.length&&arguments[1]!==l?arguments[1]:"";navigator.clipboard.writeText(c).then(function(){var c=n.isCustomShareOptionsSheetEnabled;c=c===l?!1:c;var t=n.shareUrl.refMarker.getClickForChannel(b),
h=k.getAndReset(g.customizeShareStateKey);m.logCSAEvent(g.CSA_HIT_TYPE.SHARE,{channel:"copy",refMarker:t,refererURL:I,shareDataAttributes:p,treatment:B,weblab:J,isCustomShareOptionsSheetEnabled:c,caf:d,cafSwitchEnabled:r,customizeShareCSAData:h});m.logCounterRefactor("CopySuccess",p.ingress);"function"===typeof C&&C(t);a(".ssf-feedback").show();E(e);q();f&&L(f)},function(){z({shareData:n,channelRef:b,caf:d,cafSwitchEnabled:r});E(e)})})});a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");
a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(function(c){var b=a(this);c=n.customShareBuiltChannels;var e=n.isCustomShareOptionsSheetEnabled,f=e===l?!1:e;e=n.caf;var v=e===l?!1:e,x=b.data("name"),u=c[x];c=g.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+u.ref;var w=n.shareUrl.refMarker.getClickForChannel(c);a(".ssf-error-text").addClass(t);A(b);K(c,!0,function(c){var e=1<arguments.length&&arguments[1]!==l?arguments[1]:"",z=k.getAndReset(g.customizeShareStateKey),A=P(u,
c,D());d?d.launchIntentURL({url:A,successCallback:function(){E(b);q();m.logCounterRefactor("ChannelClick",p.ingress);"function"===typeof C&&C(w);e&&L(e);m.logCSAEvent(g.CSA_HIT_TYPE.SHARE,{channel:x,refMarker:w,refererURL:I,shareDataAttributes:p,treatment:B,weblab:J,isCustomShareOptionsSheetEnabled:f,caf:v,cafSwitchEnabled:r,customizeShareCSAData:z})},failCallback:function(){var c=a(".ssf-error-text");c.removeClass(t);var d=c.find(".ssf-error-generic");c=c.find(".ssf-error-email");"email"===x?(d.addClass(t),
c.removeClass(t)):(d.removeClass(t),c.addClass(t));E(b);m.logCSAEvent(g.CSA_HIT_TYPE.CLICK_ERROR,{channel:x,refMarker:w,refererURL:I,shareDataAttributes:p,treatment:B,weblab:J,isCustomShareOptionsSheetEnabled:f,caf:v,cafSwitchEnabled:r});y.log("Failed to launch intent URL "+A,g.SSF_AUI_PACKAGE_ATTRIBUTION);m.logCounterRefactor("customShareOptions.LaunchShareIntentFail",n.shareDataAttributes.ingress)}}):(E(b),m.logCSAEvent(g.CSA_HIT_TYPE.SHARE,{channel:x,refMarker:w,refererURL:I,shareDataAttributes:p,
treatment:B,weblab:J,isCustomShareOptionsSheetEnabled:f,caf:v,cafSwitchEnabled:r,customizeShareCSAData:z}),q(),h.open(A,"_blank"))})})}}});"use strict";y.when("A","SocialShareWidgetState","atf").execute(function(f,h){var l=f.$("#ssf-primary-widget-desktop");f=f.$("#ssf-share-action");l=l.data("ssfShareIcon")||f.data("ssfShareIcon")||{};h.set("shareAapiCsrfToken",l.shareAapiCsrfToken);h.set("aapiBaseUrl",l.aapiBaseUrl);h.set("dpx",!0)});"use strict";y.declare("SocialShareWidgetReviewsTiny",!1);"use strict";
y.when("A","SocialShareWidget").execute(function(f,h){var l=h.SocialShareCore.Metrics,k=void 0;h=f.debounce(function(){clearTimeout(k)},200,!0);f.declarative("ssf-share-icon","touchstart",function(){k=setTimeout(function(){l.logCounter("longpress");l.logCounterRefactor("longpress")},500)});f.declarative("ssf-share-icon","touchmove touchend",h)});"use strict";y.when("SocialShareWidget").execute(function(f){var h=f.SocialShareCore.Metrics;y.now("SocialShareWidgetLoadedBTF").execute(function(f){f?h.logCounter("btf:render"):
h.logCounter("atf:render")})});"use strict";y.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(f,q,w,k){q=q.SocialShareCore;var a=f.$,b=q.ShareSheet,m=q.Url,g=q.Metrics,e=q.Constants,d=g.getMetricName(a,e.customize),c=f.constants.HIDE_CLASS,u=function(){},r={},t=0,n=void 0,x=void 0,C=void 0,B=void 0,H=void 0;y.when("a-checkbox").execute(function(a){return x=a});y.when("a-button").execute(function(a){return n=a});
try{(function(){var q=k.imageState;f.declarative("cafCheckboxAction","change",function(){C()});f.on(k.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();q.clear()});f.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){I(a.sheet)});var p=function(a){var c=a.productImage;a.cafSwitch||(a=new Image,a.src=c,a.onload=function(){q.productImageProperties.width=this.width;q.productImageProperties.height=this.height})},F=function(c,b){var e=a(".ssf-preview-container"),n=a(".ssf-caf-image"),
t=(r.cafSwitch=c)?"CAF.switchOn":"CAF.switchOff";g.logCounter(d,t);g.logCounterRefactor(t,b);f.trigger("ssf:event:caf-switch-change",c);c?(n.fadeIn(100),e.hide()):(e.fadeIn(100),n.hide())},G=function(a){var c=a.shareData,b=a.channelRef,d=c.shareUrl;a=c.isOGTEnabled;a=a===l?!1:a;var e=c.aapiBaseUrl;e=e===l?"":e;var f=c.shareAapiCsrfToken;f=f===l?"":f;var n=c.tinyUrlEnabled;n=n===l?!1:n;var g=c.deeplinkInfo;g=g===l?{}:g;var h=c.shareDataAttributes,k=c.storeId;k=k===l?"":k;b=b?d.getReturnForChannel(b):
d.return;d=h.marketplaceId;return{tinyUrlEnabled:n,aapiBaseUrl:e,shareAapiCsrfToken:f,marketplaceId:d===l?"":d,url:b,isOGTEnabled:a,originalUrl:c.url||b,refMarkerId:t++,deeplinkInfo:g,storeId:k}},J=function(t,k,p,x,r,q,u){var v=p.shareDataAttributes,C=p.url,B=v.asin,w=v.ingress;v=p.refId;a(".ssf-customize-share-btn").find(".a-spinner").addClass(c);n(".ssf-customize-share-btn").enable();k();var z=!1;k=new URL(q===l?C:q);x&&(v=e.CAF_REF_PREFIX+"_"+v,k.searchParams.append("cafId",x),k.searchParams.append("cafASIN",
r),r!==B&&g.logCounter(d,"CAF.ShareASINMismatch"),z=!0);k.searchParams.append("language",h.languageOfPreference||p.locale||"en_US");p.shareUrl=new m(k.toString(),v);var A=G({shareData:p});y.when("SocialShareWidgetTiny").execute(function(a){a.fetch({data:A,callback:function(a){p.tinyUrl=a;u&&u();a=f.extend({channelSelectCB:function(){x&&f.trigger("ssf:event:caf-share-complete-success",p)},cafSwitchEnabled:z},p);(new b(a)).launch(function(){f.delay(function(a){t(p)},100);x?(g.logCounter(d,"CAF.ShareSheetOpen"),
g.logCounterRefactor("CAF.ShareSheetOpen",w)):(g.logCounter(d,"ShareSheetOpen"),g.logCounterRefactor("ShareSheetOpen",w))})}})})},I=function(a){var c=a.$contentContainer,b=parseInt(a.$container.css("max-height"));c=parseInt(c.height());b<c?(a.$contentContainer.css("height",b),g.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};u=function(b,f,t,h){var m=b.shareDataAttributes,u=b.treatment,v=u===l?"":u;u=b.weblab;var z=u===l?"":u,A=m.ingress;r={productImage:b.productImage||b.image,
rating:b.starRating,caf:b.caf,cafSwitch:b.cafSwitch,text:b.t.taf_custshare_caf_recipientemoji};var D=function(a){g.logCounter(d,a);g.logCounterRefactor(a,A)},E=function(a){w.build(b).generateImage(a,function(a){(a=a.entity)&&"SUCCEEDED"===a.status&&(a=a.customizedImage.url,q.currentImage=a,p({productImage:a}),k.setImage(a),k.hideImageSpinner())})};C=function(){var a=x(".ssf-caf-toggle");F(a.isChecked(),A)};p(r);F(r.cafSwitch,A);b.customizePreSelected||(u=k.getImageData(b,q),E(u));a(".ssf-customize-share-btn").click(function(){n(".ssf-customize-share-btn").isEnabled()&&
(a(".ssf-customize-share-btn").find(".a-spinner").removeClass(c),n(".ssf-customize-share-btn").disable(),r.cafSwitch?(D("CAF.shareClick"),g.startTimer("CAF.fetchCAFAndTinyURL"),b.title=(b.t["taf-share-caf-messageprefix"]||"")+" "+b.title,w.build(b).fetchCAFID(function(a,c,d){J(f,t,b,a,c,d,function(){g.stopTimer("CAF.fetchCAFAndTinyURL")})})):(D("shareClick"),g.logCSAEvent(e.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:e.EMPTY_STRING,refMarker:b.shareUrl.refMarker.click,shareDataAttributes:m,treatment:v,
weblab:z}),J(f,t,b)))});a("#ssf-customize-icon").click(function(){var c=this;n(this).isEnabled()&&(D("CustomizeButtonClick"),n(this).disable(),w.build(b).fetchTabs(function(d){y.now("SocialShareWidgetCustomizeTemplate").execute(function(e){a(".ssf-tabs").html(e.getTabs(b,d));n(c).enable();d.forEach(function(c){c.isQuote&&c.values.length&&(B=c.values[0]);"BackgroundImageTab"==c.id&&c.values.forEach(function(a){"417kcYISTOL.jpg"==a.physicalId&&(H=a)});var d="input[type\x3dradio][name\x3d"+c.id+"]";
a(d).change(function(c){c=JSON.parse(c.target.value);G(c);a(d).unbind("click");a(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);k.setImage();k.showImageSpinner();D(a.id+"Unselect");q.unset(a);a=k.getImageData(b,q);E(a)})})});b.customizePreSelected&&(a("#BackgroundImageTab1").trigger("click"),G(H),B&&(a("#BookQuotesTab0").trigger("click"),G(B)))});k.transitionToCustomizePage();k.adjustPreviewHeight();I(h)}))});var G=function(a){k.setImage();k.showImageSpinner();q.set(a);
var c=k.getImageData(b,q);D(a.id+"Select");E(c)};a(".ssf-back-btn").click(function(){g.logCounter("BackButtonClick");k.transitionToDefaultPage();I(h);q.clear();var a=k.getImageData(b,q);E(a)});y.when("a-checkbox").execute(function(c){a(".ssf-caf-toggle-label").click(function(){var a=c(".ssf-caf-toggle");a.check(!a.isChecked())})})}})()}catch(z){g.logCounter(d,"Error"),g.logLoad("Error"),g.logFatal("Error loading Customize widget, Share Framework AUI: "+z.toString())}finally{g.logCounter(d,"Render"),
g.logLoad("Render")}return{init:u}});"use strict";y.when("A").register("SocialShareWidgetCustomizeTemplate",function(f){var h=f.capabilities.rtl,w=function(a){return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+(1<arguments.length&&arguments[1]!==l?arguments[1]:"ssf-product-title-text")+'"\x3e\n      \x3cspan\x3e\n        '+a.title+"\n      \x3c/span\x3e\n    \x3c/div\x3e"},k=function(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+
a;return'\x3cimg class\x3d"'+c+'" src\x3d"'+a+'"/\x3e'},a=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==l?arguments[0]:"")+"\x3c/span\x3e"},b=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(c,b){var d=f.extend(c,{id:a.id}),e={id:a.id,position:b,val:d,background:c.url};a.isQuote&&(e=f.extend(e,{center:!0,width:150,content:d.displayText,background:l}));d=e.id;b=e.position;
c=e.content;c=c===l?"":c;var n=e.width,g=n===l?100:n,h=e.background;n=e.center;n=n===l?!1:n;e=e.val;g='style\x3d"width: '+g+"px;background-image: url("+(h===l?"":h)+");background-size: "+g+"px "+g+'px;"';h=JSON.stringify(e);b=d+b;e=e.label||"";var k='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";n&&(k='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+c+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+b+
'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+h+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+b+'" class\x3d"a-box a-text-normal" '+g+"\x3e"+k+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},m=function(a){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+
(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==l?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},g=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==l&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+(1<arguments.length&&arguments[1]!==l?arguments[1]:"")+"\n            \x3c/div\x3e"},e=function(){return(0<
arguments.length&&arguments[0]!==l?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+a+"”",value:a}})};return{getTabs:function(a,c){var d=a.popularHighlightStrings;if(!c.length)return"";var f="",h="",n=-1;c.forEach(function(a,c){a.isQuote&&(a.values=e(d));if(!a.values.length)return"";-1===n&&(n=c);c=c===n;f+=m(a.id,a.heading,c);h+=g(a.id,b(a),a.text,c)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+
f+"\x3c/ul\x3e"+h)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',
getImageSection:function(b){var c=w(b),d=b.starRating,e=b.numberOfReviews,f=b.t,g=b.cafStarAlignmentLeft,m=b.customize;m=m===l?!1:m;b='\x3cdiv class\x3d"ssf-product-preview"\x3e'+k({productImage:b.productImage}.productImage)+"\x3c/div\x3e";d=k("RIO"+(d===l?"ZERO":d)+(h?"r":"")+".png","ssf-caf-stars");e=a(e);g='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(g?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+d+e+"\n              \x3c/div\x3e\n            \x3c/div\x3e";
m=m?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+k("customize")+"\x3c/span\x3e":"";f='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+f.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";e=k("caf-emojis"+(h?"r":"")+".png","ssf-caf-emojis");return'\x3cdiv class\x3d"a-box ssf-preview-box" role\x3d"img"\x3e\n              '+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+m+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+
b+"\n              "+g+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n              \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+b+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+f+e+"\x3c/div\x3e")+"\x3c/div\x3e\n              "+g+"\n            \x3c/div\x3e"))+"\n              "+c+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+
w(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";y.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomizeUtils",function(f,q,w,k){function a(a){var c=a.values,b=c.BackgroundImageTab,d=c.DeviceCoverImageTab;c=c.BookQuotesTab;var e=a.productImageProperties;a=e.width;e=e.height;return{bgId:(b===l?{}:b).physicalId||"",deviceId:(d===l?{}:d).physicalId||"",quoteValue:(c===l?{}:c).value||"",width:a===
l?"":a,height:e===l?"":e}}function b(a,c){var b=a.shareUrl,e=a.socialLinks;e=e===l?{}:e;var d=a.isOGTEnabled;d=d===l?!1:d;c=c?b.getReturnForChannel(c):b.return;b=a.aapiBaseUrl;var f=a.shareAapiCsrfToken,g=a.tinyUrlEnabled,h=a.deeplinkInfo;h=h===l?{}:h;var n=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:g===l?!1:g,aapiBaseUrl:b===l?"":b,shareAapiCsrfToken:f===l?"":f,marketplaceId:n===l?"":n,url:c,isOGTEnabled:d,originalUrl:e.shareframework||a.url||c,refMarkerId:r++,deeplinkInfo:h}}function m(a,
c,b,e){if(b.isEmpty())return e({});b=encodeURIComponent(b.currentImage);w.build(a).externalizeImage(b,e,c)}q=q.SocialShareCore;var g=f.constants.HIDE_CLASS,e=f.$,d=q.Constants,c=q.Metrics,u=q.Url,r=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return e(".ssf-cus-img")},getCustomizeImageContainer:function(){return e(".ssf-cus-img-container")},showImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").removeClass(g)},
hideImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").addClass(g)},setImage:function(a){this.getCustomizeImage().css("background-image",'url("'+a+'")')},transitionToCustomizePage:function(){e(".ssf-customize-container-one").addClass(g);e(".ssf-customize-container-two").removeClass(g).addClass("ssf-customize-transition")},adjustPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*h.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+
parseInt(this.getCustomizeImage().css("border-right-width")),c=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(c+a)/1.91})},transitionToDefaultPage:function(){e(".ssf-customize-container-two").addClass(g);e(".ssf-customize-container-one").removeClass(g).addClass("ssf-customize-transition-back")},getImageData:function(c,b){b=a(b);return{productImageUrl:c.productImage,starRating:c.starRating||"",numberOfReviews:c.numberOfReviews||"",backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,
bookQuote:b.quoteValue,productImageWidth:b.width,productImageHeight:b.height}},setCustomizeCSAData:function(c,b){var e=d.customizeShareStateKey;b=a(b);var f=d.TRUE,g=d.FALSE;k.set(e,{backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,hasQuote:0<b.quoteValue.length?f:g,isCustomizedExperienceEnabled:c.customize?f:g,isCustomized:b.bgId||b.deviceId||b.quoteValue?f:g,customizePreSelected:c.customizePreSelected?f:g,isQuotesAvailable:c.quotes?f:g})},prepareShareUrl:function(a,e,d,f,g){this.setCustomizeCSAData(a,
this.imageState);m(a,f,this.imageState,function(h){h=h.entity;var k=new URL(a.url);h&&h.physicalId&&(c.logCounterRefactor("externalizeImageSuccess"),k.searchParams.append("cspi",h.physicalId));a.cafStarAlignmentLeft?k.searchParams.append("starsLeft","1"):a.caf&&k.searchParams.append("cafHiResImg","1");a.shareUrl=new u(k.toString(),a.refId);h=b(a,e);d.fetch({data:h,isAsync:f,callback:function(a){g(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return e.isEmptyObject(this.values)},
values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}}}});"use strict";y.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCAFUtils",function(f,q,w){function k(b,d){var c=b.shareUrl,e=b.socialLinks;e=e===l?{}:e;var f=b.isOGTEnabled;f=f===l?!1:f;d=d?c.getReturnForChannel(a.CAF_REF_PREFIX+"_"+d):c.return;d=new URL(d);b.cafStarAlignmentLeft?d.searchParams.append("starsLeft","1"):
b.caf&&d.searchParams.append("cafHiResImg","1");d.searchParams.has("language")||d.searchParams.append("language",h.languageOfPreference||b.locale||"en_US");d=d.toString();c=b.aapiBaseUrl;var k=b.shareAapiCsrfToken,m=b.tinyUrlEnabled,q=b.deeplinkInfo;q=q===l?{}:q;var w=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:m===l?!1:m,aapiBaseUrl:c===l?"":c,shareAapiCsrfToken:k===l?"":k,marketplaceId:w===l?"":w,url:d,isOGTEnabled:f,originalUrl:e.shareframework||b.url||d,refMarkerId:g++,deeplinkInfo:q}}
f=q.SocialShareCore;var a=f.Constants,b=f.Url,m=f.Metrics,g=0;return{prepareShareUrl:function(e,d,c,f,g){var h=e.refId;m.logCounterRefactor("CAF.shareChannelClick",e.ingress);m.startTimer("CAF.fetchCAFAndTinyURL");h=a.CAF_REF_PREFIX+"_"+h;w.build(e).fetchCAFID(function(a,l){var n=new URL(e.url);a&&n.searchParams.append("cafId",a);l&&n.searchParams.append("cafASIN",l);e.shareUrl=new b(n.toString(),h);l=k(e,d);c.fetch({data:l,isAsync:f,callback:function(b){m.stopTimer("CAF.fetchCAFAndTinyURL");g(b,
a)}})},f)}}});"use strict"});