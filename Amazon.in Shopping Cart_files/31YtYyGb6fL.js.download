(function(n){var r=window.AmazonUIPageJS||window.P,w=r._namespace||r.attributeErrors,q=w?w("QuantitySliderAssets",""):r;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,r,w){function q(t,h){try{n.register(t,h)}catch(f){if(-1===f.message.indexOf("reregistered by QuantitySliderAssets"))throw f;}}function x(){var t=arguments;return{register:function(h,f){try{n.when.apply(n,t).register(h,f)}catch(m){if(-1===m.message.indexOf("reregistered by QuantitySliderAssets"))throw m;
}}}}n.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A","quantity-slider-utils","qs-cart-update-utils").register("qs-cart-update-handler",function(h,f,m){function k(a){p||(p="quantity-slider-widget-"+a);return p}function e(a,b){if(!b.atcFormSubmitDisabled){if((a=a.$target&&a.$target.closest(".qs-atc-form"))&&0!==a.length)return a;n.log("Missing $form object","ERROR",k(b.clientName))}}function b(b,g,l){h.trigger(f.ACTIONS.ADD_TO_CART_SUBMIT_START,{asin:b,cartType:g.cartType,
clientName:g.clientName,isQSAction:l,request:g});a(b,g,!0,l)}function a(a,b,l,e){var p=b.cartType,d=JSON.stringify(e?m.getQSRequestObject(b,l,p):m.getATCRequestObject(b,p)),c=m.getAjaxUrl(b,l,p);c&&g.ajax({url:c,type:m.getHttpMethodType(l,p),data:d,headers:m.getHeadersForRequest(b,l,p),xhrFields:{withCredentials:!0},success:function(c,d,g){c.jqXHR=g;delete u[a];(c=m.adaptResponseObject(c,b,l,b.cartType))?(f.setUpdatedQSParamsForAsinOffer(a,b.additionalParams&&b.additionalParams.storeId,{quantityInCart:c.quantity,
cartItemId:c.itemId}),h.trigger(l?f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS:f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,{asin:a,cartType:b.cartType,request:b,response:c,clientName:b.clientName,attribution:k(b.clientName),isQSAction:e,isDecreaseQuantityAction:!l}),f.logUrl(b.loggingUrl)):n.log("Invalid Response from the server","ERROR",k(b.clientName))},error:function(c){delete u[a];c=c||{};n.log("Ajax request failed with type: "+(l?"addItems":"modifyItems")+", status code: "+c.status+", error: "+c.responseText,
"ERROR",k(b.clientName));h.trigger(f.ACTIONS.QS_CART_SUBMIT_ERROR,{asin:a,cartType:p,clientName:b.clientName,isQSAction:e,isDecreaseQuantityAction:!l,isMaxOrderQuantityReached:b.quantityInCart>=b.maxOrderQuantity,response:c,request:b});l&&b.$form&&b.$form.submit()}})}var g=h.$,p="",u={};h.declarative("qs-add-to-cart-trigger","click",function(a){var g=a.data&&a.data.asin,l=f.getQsParamsFromTargetAsinOffer(a,g);a.$event&&a.$event.preventDefault();u[g]||(u[g]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,
l.$form=e(a,l),l.triggeringEvent=a,b(g,l,!1))});h.declarative("qs-slider-widget-trigger","click",function(g){var k=g.data&&g.data.asin,l=f.getQsParamsFromTargetAsinOffer(g,k),p=g.$target[0]&&g.$target[0].className||"",m=h.contains(p,"qs-increase-quantity")||h.contains(p,"qs-decrease-quantity");p=h.contains(p,"qs-decrease-quantity");g.$event&&g.$event.preventDefault();m&&!u[k]&&(u[k]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,l.triggeringEvent=g,p?(h.trigger(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,
{asin:k,cartType:l.cartType,clientName:l.clientName,isQSAction:!0,isDecreaseQuantityAction:!0,request:l}),a(k,l,!1,!0)):(l.$form=e(g,l),b(k,l,!0)))});return{setAttribution:function(a){p=a}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","qs-fresh-cart-update-utils").register("qs-cart-update-utils",function(h,f){function m(c){var d=c.quantityInCart||0;return{items:[{asin:c.asinId,offerListingId:c.offerListingId,quantity:d<c.minOrderQuantity?c.minOrderQuantity-
d:1}]}}function k(c,d,a){return(e.isFunction(d[a])?d[a]:d.DEFAULT)(c)}var e=h.$,b={DEFAULT:m,UFG:f.getUfgCartRequestObject},a={DEFAULT:m,UFG:f.getUfgCartRequestObject},g={DEFAULT:function(c){var d=c.quantityInCart||0;var a=c.cartItemId;a=!a||"C"!==a[0]&&"S"!==a[0]?a:a.substring(1);return{items:[{id:a,quantity:d<=c.minOrderQuantity?0:d-1}]}},UFG:f.getUfgCartRequestObject},p={DEFAULT:function(c){return c.ajaxCartUrl},UFG:function(c){return c.addToCartUrl}},u={DEFAULT:function(c){return c.ajaxCartUrl}},
n={DEFAULT:function(c){return(c=c.entity&&c.entity.items&&c.entity.items[0])?{itemId:c.id,quantity:c.quantity,isTotal:!0}:null},UFG:f.ufgCartResponseAdapter},t={DEFAULT:function(c,d){c=(d.quantityInCart||0)-1;return 0>c?null:{itemId:c?d.cartItemId:"",quantity:c,isTotal:!0}},UFG:f.ufgCartResponseAdapter},l={DEFAULT:"POST",UFG:"POST"},q={DEFAULT:"PUT",UFG:"POST"},r={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),
Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}},d={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}};return{getATCRequestObject:function(c,d){return k(c,b,d)},getQSRequestObject:function(c,d,b){return k(c,d?a:g,b)},adaptResponseObject:function(c,d,a,b){a=a?n:t;return(e.isFunction(a[b])?a[b]:a.DEFAULT)(c,d)},getHttpMethodType:function(d,a){d=d?l:q;return d[a]?
d[a]:d.DEFAULT},getHeadersForRequest:function(a,b,g){b=b?r:d;return(e.isFunction(b[g])?b[g]:b.DEFAULT)(a)},getAjaxUrl:function(d,a,b){return k(d,a?p:u,b)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","ewc.app","quantity-slider-widget","quantity-slider-utils").register("quantity-slider-ewc-utils",function(h,f,m,k){function e(a){var g=b('[data-itemid\x3d"'+a.action.itemID+'"]').data(),f=k.getQSParamsForAsin(g.asin);if(f)return{quantity:h.contains(a.action.name,
"delete")||h.contains(a.action.name,"save")||!g.qty?0:g.qty,maxOrderQuantity:f.maxOrderQuantity}}var b=h.$;f.on("ewc:cartUpdate:success",function(a){if(a&&a.action.itemID){var b=e(a);b&&(k.setUpdatedQSParamsForAsin(a.action.asin,{quantityInCart:b.quantity,cartItemId:a.action.itemID}),m.updateQuantitySliderWidget(a.action.asin,b.quantity,b.maxOrderQuantity))}});return{getQuantityAndMaxQuantityForEWC:e}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A").register("qs-fresh-cart-update-utils",
function(h){function f(f,k){return k&&k.items?k.items.find(function(e){return e.ASIN===f}):null}return{getUfgCartRequestObject:function(f){return f.additionalInput},ufgCartResponseAdapter:function(h,k){return(k=f(k.asinId,h.clientResponseModel))?{itemId:k.itemId,quantity:k.quantity,isTotal:!0,rawResponse:h}:{itemId:"invalidItemId",quantity:0,isTotal:!0,rawResponse:h}}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils").register("quantity-slider-metrics-handler",
function(h,f){function m(a,b){return"QuantitySliderWidget::"+a+"::"+(b?b+"::":"")}function k(a){var b=r.ue;"undefined"!==typeof b&&b.count(a,1)}function e(a,g){f.assert(a&&g.clientName,"Missing required properties while logging metrics");if(g.isQSAction)if(g.isDecreaseQuantityAction){var e=b.QS_DECREASE;a=m(g.clientName,g.cartType)+a+"::"+e;k(a)}else e=b.QS_INCREASE,a=m(g.clientName,g.cartType)+a+"::"+e,k(a);else e=b.ATC,a=m(g.clientName,g.cartType)+a+"::"+e,k(a)}var b={ATC:"ATC",QS_INCREASE:"QSIncrease",
QS_DECREASE:"QSDecrease"};return{logRequestStartMetrics:function(a){e("CountStart",a)},logRequestSuccessMetrics:function(a){e("CountSuccess",a)},logRequestErrorMetrics:function(a){e("CountError",a)},logMaxQuantityReachedMetric:function(a){a=m(a.clientName,a.cartType)+"MaxQuantityReached";k(a)},logMultipleAsinsSubmittingMetric:function(a){a=m(a.clientName,a.cartType)+"MultipleAsinsSubmitting";k(a)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils",
"qs-cart-update-handler","quantity-slider-metrics-handler").register("quantity-slider-widget",function(h,f,n,k){function e(d,a,b,g){d=l(d,a,g);b?f.disableButton(d):f.enableButton(d)}function b(d,a,b){e("."+d+"-qs-slider-button .qs-decrease-quantity",d,a,b)}function a(d,a,b){e("."+d+"-qs-slider-button .qs-increase-quantity",d,a,b)}function g(a,b,g){e("."+a+"-qs-add-to-cart-button .qs-slider-atc-button",a,b,g)}function p(a){if(a.isQSAction){var d=a.asin,b=m(a);a.isDecreaseQuantityAction?f.deselectButton(l("."+
d+"-qs-slider-button .qs-decrease-quantity",d,b)):f.deselectButton(l("."+d+"-qs-slider-button .qs-increase-quantity",d,b))}}function m(a){return(a=(a=a.request)&&a.additionalInput)&&a.storeId}function q(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);c=d.asin;f.assert(c&&d.request&&d.response&&d.response.quantity!==w,"Required properties missing in payload object for UpdateQSWidget");e=m(d);t(c,d.response.quantity,
d.request.maxOrderQuantity,e);d.request.enableQuantityLimitMessage&&(c=l("."+c+"-qs-quantity-limit-message",c,e),f.toggleDomNodeVisibility(c,d.response.quantity>=d.request.maxOrderQuantity));f.updateTotalCartCountOnUI(d,d.cartType);k.logRequestSuccessMetrics(d)}function r(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!0);d.isQSAction?(b(c,!0,e),a(c,!0,e)):g(c,!0,e);k.logRequestStartMetrics(d);d.request&&d.request.isMultipleAsinsSubmitting&&k.logMultipleAsinsSubmittingMetric(d)}
function l(a,b,e){if(!e)return v(a);b="."+b+"-qs-slider-data";a=document.querySelectorAll(a);for(var d=[],c=0;c<a.length;c++){var g=a[c],f=g&&v(g).closest(".qs-widget-container");(f=(f=f&&v(f).children(b))&&v(f).data("qs-model"))&&f.additionalInput&&f.additionalInput.storeId===e&&d.push(g)}return v(d)}function t(b,c,e,g){var d=l("."+b+"-qs-add-to-cart-button",b,g),h=l("."+b+"-qs-slider-button",b,g);0<c?(f.changeATCtoQS(d,h),d=Math.min(c,e),h=l("."+b+"-qs-qty-present-in-cart",b,g),Number.isInteger(d)&&
h.html(d),a(b,c>=e,g)):(f.changeQStoATC(d,h),a(b,!1,g))}var v=h.$;Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){q(a);a.response.quantity===a.request.maxOrderQuantity&&k.logMaxQuantityReachedMetric(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,
function(a){q(a)});h.on(f.ACTIONS.QS_CART_SUBMIT_ERROR,function(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction&&d.isMaxOrderQuantityReached?b(c,!1,e):d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);k.logRequestErrorMetrics(d)});return{ACTIONS:f.ACTIONS,setAttribution:n.setAttribution,updateQuantitySliderWidget:t}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(q){q.when("A","a-button").register("quantity-slider-utils",
function(h,f){function m(b){return e("."+b+"-qs-slider-data").first().data("qs-model")}function k(b,a){var g=m(b);e("."+b+"-qs-slider-data").data(h.extend(g,a))}var e=h.$;return{ACTIONS:{ADD_TO_CART_SUBMIT_START:"quantity-slider:add-to-cart-start",ADD_TO_CART_SUBMIT_SUCCESS:"quantity-slider:add-to-cart-success",REMOVE_FROM_CART_SUBMIT_START:"quantity-slider:remove-from-cart-start",REMOVE_FROM_CART_SUBMIT_SUCCESS:"quantity-slider:remove-from-cart-success",QS_CART_SUBMIT_ERROR:"quantity-slider:cart-submit-error"},
assert:function(b,a){if(!b)throw Error(a);},changeATCtoQS:function(b,a){e(b).hasClass("aok-hidden")||(e(b).addClass("aok-hidden"),e(a).removeClass("aok-hidden"))},changeQStoATC:function(b,a){e(a).hasClass("aok-hidden")||(e(a).addClass("aok-hidden"),e(b).removeClass("aok-hidden"))},disableButton:function(b){f(e(b)).disable()},deselectButton:function(b){b=f(e(b));b.isEnabled()&&b.setStatus("normal")},enableButton:function(b){f(e(b)).enable()},getQSParamsForAsin:m,getQsParamsFromTargetAsinOffer:function(b,
a){var g="."+a+"-qs-slider-data";return(g=(b=b.$event&&e(b.$event.target).closest(".qs-widget-container"))&&b.children(g).data("qs-model"))?g:m(a)},setUpdatedQSParamsForAsin:k,setUpdatedQSParamsForAsinOffer:function(b,a,g){a?e("."+b+"-qs-slider-data").map(function(b,f){b=e(f);(f=b.data("qs-model"))&&f.storeId===a&&b.data(h.extend(f,g))}):k(b,g)},toggleDomNodeVisibility:function(b,a){a?e(b).removeClass("aok-hidden"):e(b).addClass("aok-hidden")},updateTotalCartCountOnUI:function(b,a){h.extend({},b).onSuccess=
function(a){r.$Nav&&r.$Nav.when("api.setCartCount").run(function(b){b(a)});n.when("mash").execute("quantity-slider-mash-update",function(b){b.cart&&e.isFunction(b.cart.didUpdate)&&b.cart.didUpdate({newCartQuantity:a})})}},logUrl:function(b){b&&h.post(b)}}})});"use strict";q("QuantitySliderAssetDuplicationGuard",function(){return{register:q,when:x}})});